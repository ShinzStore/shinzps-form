<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Borang Personal Shopper ShinZ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f9f9f9;
    }
    h1 {
      color: #333;
    }
    label, select, input {
      display: block;
      margin-top: 10px;
      margin-bottom: 5px;
      width: 100%;
    }
    .section {
      background-color: #fff;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .result {
      font-weight: bold;
      margin-top: 20px;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>Borang Personal Shopper ShinZ</h1>
  <div class="section">
    <label for="fullname">Nama Penuh:</label>
    <input type="text" id="fullname" placeholder="Isikan nama penuh anda" />

    <label for="phone">Nombor WhatsApp / Telefon:</label>
    <input type="tel" id="phone" placeholder="Contoh: 01170351789" />

    <label for="address">Alamat Lengkap:</label>
    <input type="text" id="address" placeholder="Alamat untuk penghantaran" />

    <label for="item">Pilih Barangan:</label>
    <select id="item" onchange="updateTotal()">
      <option value="IEA|Iris Ejen Ali">Iris Ejen Ali (RM70)</option>
      <option value="IEI|Iris Ejen Alicia">Iris Ejen Alicia (RM70)</option>
      <option value="IDEA|Kad ID Ejen Ali">Kad ID Ejen Ali (RM11.50)</option>
      <option value="IDEI|Kad ID Ejen Alicia">Kad ID Ejen Alicia (RM11.50)</option>
      <option value="IDES|Kad ID Ejen Satria">Kad ID Ejen Satria (RM19)</option>
      <option value="KKM|Kad Kecemasan Keluang Man">Kad Kecemasan Keluang Man (RM11.50)</option>
    </select>

    <label for="quantity">Kuantiti:</label>
    <input type="number" id="quantity" value="1" min="1" onchange="updateTotal()" />

    <label for="psfee">Pilihan Upah Personal Shopper:</label>
    <select id="psfee" onchange="updateTotal()">
      <option value="25">RM25 (Ekonomi)</option>
      <option value="30">RM30 (Standard)</option>
    </select>

    <label for="packaging">Pilihan Pembungkusan:</label>
    <select id="packaging" onchange="updateTotal()">
      <option value="2">Basic – 1 lapis bubble wrap + kotak custom (RM2/unit)</option>
      <option value="3">Tebal – 3 lapis bubble wrap + kotak custom (RM3/unit)</option>
    </select>

    <label for="shipping">Pilihan Penghantaran:</label>
    <select id="shipping" onchange="updateTotal()">
      <option value="10">Gabung 2 Kotak Dalam 1 Parcel – RM10 (⚠️ risiko kotak kemek)</option>
      <option value="20">Asingkan 2 Kotak Dalam 2 Parcel – RM20 (✔️ kotak lebih selamat)</option>
    </select>

    <label for="pickup">Pilihan Pickup / COD:</label>
    <select id="pickup" onchange="updateTotal()">
      <option value="0">Tiada – Hanya Pos</option>
      <option value="0">Self Pickup di Guar Utama (Percuma)</option>
      <option value="5">COD Dalam Guar Chempedak (RM5)</option>
      <option value="10">COD Luar Kawasan (RM10)</option>
    </select>

    <div class="result" id="total">Jumlah Bayaran: RM0.00</div>
    <button onclick="submitOrder()">Hantar Order</button>
  </div>

  <script>
    // Data harga asas & upah
    const basePrices = { IEA: 70, IEI: 70, IDEA: 11.5, IDEI: 11.5, IDES: 19, KKM: 11.5 };
    const psFees    = { IEA: 25, IEI: 25, IDEA: 3,    IDEI: 3,    IDES: 6,   KKM: 3.5 };

    function updateTotal() {
      const itemSelect = document.getElementById('item').value.split('|')[0];
      const quantity   = parseInt(document.getElementById('quantity').value || 1);
      const psfee      = parseFloat(document.getElementById('psfee').value);
      const packaging  = parseFloat(document.getElementById('packaging').value);
      const shipping   = parseFloat(document.getElementById('shipping').value);
      const pickup     = parseFloat(document.getElementById('pickup').value);

      let hargaBarang = basePrices[itemSelect] * quantity;
      let totalPS     = psfee * quantity;
      let totalPackage= packaging * quantity;

      // Kos shipping untuk satu box vs dua box
      let totalShipping = 0;
      if (quantity === 1) {
        totalShipping = shipping / 2; // apabila quantity 1, kita bahagikan dua (contoh: 10/2=5)
      } else {
        totalShipping = shipping;     // apabila quantity >= 2
      }

      const jumlah = hargaBarang + totalPS + totalPackage + totalShipping + pickup;
      document.getElementById('total').innerText = `Jumlah Bayaran: RM${jumlah.toFixed(2)}`;
    }

    function submitOrder() {
      // Contoh: bagi alert untuk demo
      alert('Terima kasih! Order anda telah diterima. (Demo Lokal)');
      // Dalam versi sebenar, di sini kita sambungkan ke Google Sheets via API
    }
  </script>
</body>
</html>
